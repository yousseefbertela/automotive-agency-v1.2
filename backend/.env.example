# ═══════════════════════════════════════════════════════════════
# BACKEND - ENVIRONMENT VARIABLES (copy to .env)
# ═══════════════════════════════════════════════════════════════

# ─── Server ───────────────────────────────────────────────────
PORT=4000
NODE_ENV=development
LOG_LEVEL=debug

# ─── Frontend (for CORS) ───────────────────────────────────────
FRONTEND_URL=http://localhost:5173

# ─── Debug endpoint ───────────────────────────────────────────
# GET /api/chat/debug/session/:chatId?key=<DEBUG_KEY>
DEBUG_KEY=your-secret-debug-key

# ─── Web chat (run scripts/seed-web-tenant.js first, then set these) ─
WEB_DEFAULT_TENANT_ID=web-tenant
WEB_DEFAULT_USER_ID=

# ─── Telegram Bot ──────────────────────────────────────────────
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_WEBHOOK_SECRET=random-secret-string-for-webhook-validation
WEBHOOK_BASE_URL=https://your-domain-or-ngrok-url.com

# ─── WhatsApp Business API ─────────────────────────────────────
WHATSAPP_PHONE_NUMBER_ID=804877562714688
WHATSAPP_ACCESS_TOKEN=your-whatsapp-access-token
META_WEBHOOK_VERIFY_TOKEN=your-custom-verify-token
META_APP_SECRET=your-meta-app-secret
# WhatsApp template names (copy exact name from Meta Business Manager)
WA_TEMPLATE_QUOTE_REQUEST=car_quot_request|ar_EG
WA_TEMPLATE_CANCELLATION=partpilot_order_cancelled|en
WA_TEMPLATE_CONFIRMATION=partpilot_order_cancelled|en

# ─── OpenAI ───────────────────────────────────────────────────
OPENAI_API_KEY=sk-...

# ─── OCR.space ──────────────────────────────────────────────────
OCR_SPACE_API_KEY=your-ocr-space-api-key

# ─── Scrapers ───────────────────────────────────────────────────
SCRAPER_BASE_URL=https://scraper-api-207722784991.europe-west3.run.app
SCRAPER_API_COM_KEY=your-scraperapi-com-key

# ─── Database (PostgreSQL) ──────────────────────────────────────
# Used by Prisma (internal Railway URL when deployed, local URL for dev)
DATABASE_URL=postgresql://user:password@host:5432/database?schema=public
# Used for scripts run locally against Railway (the public proxy URL)
DATABASE_URL_PUBLIC=postgresql://user:password@switchyard.proxy.rlwy.net:PORT/railway

# ─── Google Sheets ──────────────────────────────────────────────
# OPTION A (Private sheets) — use a Service Account JSON pasted as one line:
GOOGLE_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"...","private_key_id":"...","private_key":"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\\n","client_email":"...@....iam.gserviceaccount.com","client_id":"...","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token"}
# OPTION B (Public sheets) — share your sheet as "Anyone with link can view",
# then use a plain Google API key (no service account needed):
# GOOGLE_SHEETS_API_KEY=AIzaSy...
SHEETS_HOT_ITEMS_SPREADSHEET_ID=
SHEETS_HOT_ITEMS_SHEET_NAME=Sheet1
SHEETS_ALIAS_MAP_SPREADSHEET_ID=
SHEETS_ALIAS_MAP_SHEET_NAME=Sheet1
SHEETS_KITS_SPREADSHEET_ID=
SHEETS_KITS_SHEET_NAME=Sheet1

# ─── Odoo ───────────────────────────────────────────────────────
# ⚠️  Odoo credentials are STORED PER TENANT in the database (Tenant.odoo_url etc.)
# These env vars are only used as a GLOBAL FALLBACK for single-tenant/dev setups.
# In production each tenant sets their own Odoo in the DB.
# ODOO_URL=https://your-odoo-instance.com
# ODOO_DB=your-odoo-db
# ODOO_USERNAME=your-odoo-username
# ODOO_PASSWORD=your-odoo-password
